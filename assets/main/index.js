window.__require=function t(e,o,n){function r(i,a){if(!o[i]){if(!e[i]){var p=i.split("/");if(p=p[p.length-1],!e[p]){var s="function"==typeof __require&&__require;if(!a&&s)return s(p,!0);if(c)return c(p,!0);throw new Error("Cannot find module '"+i+"'")}i=p}var u=o[i]={exports:{}};e[i][0].call(u.exports,function(t){return r(e[i][1][t]||t)},u,u.exports,t,e,o,n)}return o[i].exports}for(var c="function"==typeof __require&&__require,i=0;i<n.length;i++)r(n[i]);return r}({AminController:[function(t,e,o){"use strict";cc._RF.push(e,"fa3643ctVJOyrrBVz/gHMNa","AminController");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var r,c=arguments.length,i=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(i=(c<3?r(i):c>3?r(e,o,i):r(e,o))||i);return c>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=t("../tag/MarioStateTag"),a=t("../Game"),p=cc._decorator,s=p.ccclass,u=p.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.game=null,e}return r(e,t),e.prototype.update=function(){var t=null;if(this.game.mario.isDead)t=i.MarioStateTag.DEATH;else{var e,o=this.game.mario.isJumping,n=0!=this.game.mario.rig.linearVelocity.x,r=this.game.mario.direction,c=this.game.mario.rig.linearVelocity.x;if(e=c>0?1:c<0?-1:0,0!=r&&(this.game.mario.node.scaleX=r),o||n)if(o)t=i.MarioStateTag.JUMP;else if(e==r){if(Math.abs(c)<10)return;t=i.MarioStateTag.RUN}else e!=r&&0!=r&&(t=i.MarioStateTag.SLIDE);else t=i.MarioStateTag.IDLE}this.game.mario.anim.currentClip.name!=t&&this.game.mario.anim.play(t)},c([u(a.default)],e.prototype,"game",void 0),c([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{"../Game":"Game","../tag/MarioStateTag":"MarioStateTag"}],AudioController:[function(t,e,o){"use strict";cc._RF.push(e,"5238cBiTQhJ57PEwnU1riz3","AudioController");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var r,c=arguments.length,i=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(i=(c<3?r(i):c>3?r(e,o,i):r(e,o))||i);return c>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,a=i.ccclass,p=i.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.musicSource=null,e.effSource=null,e.winAudioClip=null,e.loseAudioClip=null,e.coinAudioClip=null,e.jumpAudioClip=null,e}return r(e,t),e.prototype.onLoad=function(){var t=this;cc.systemEvent.on("win",function(){t.musicSource.clip=t.winAudioClip,t.musicSource.play()}),cc.systemEvent.on("lose",function(){t.musicSource.clip=t.loseAudioClip,t.musicSource.play()}),cc.systemEvent.on("addScore",function(){t.effSource.clip=t.coinAudioClip,t.effSource.play()}),cc.systemEvent.on("jump",function(){t.effSource.clip=t.jumpAudioClip,t.effSource.play()})},e.prototype.onDestroy=function(){cc.systemEvent.off("win"),cc.systemEvent.off("lose"),cc.systemEvent.off("addScore"),cc.systemEvent.off("jump")},c([p(cc.AudioSource)],e.prototype,"musicSource",void 0),c([p(cc.AudioSource)],e.prototype,"effSource",void 0),c([p(cc.AudioClip)],e.prototype,"winAudioClip",void 0),c([p(cc.AudioClip)],e.prototype,"loseAudioClip",void 0),c([p(cc.AudioClip)],e.prototype,"coinAudioClip",void 0),c([p(cc.AudioClip)],e.prototype,"jumpAudioClip",void 0),c([a],e)}(cc.Component);o.default=s,cc._RF.pop()},{}],BoxTag:[function(t,e,o){"use strict";cc._RF.push(e,"17aceBDeURPxYXLEimQq/4R","BoxTag"),Object.defineProperty(o,"__esModule",{value:!0}),o.BoxTag=void 0,function(t){t[t.MARIO_HEAD=1]="MARIO_HEAD",t[t.MARIO_FOOT=2]="MARIO_FOOT",t[t.GROUND=3]="GROUND",t[t.ENEMY=4]="ENEMY",t[t.MARIO_BODY=5]="MARIO_BODY",t[t.MAGIC_MUSHROOM=6]="MAGIC_MUSHROOM",t[t.WALL=7]="WALL",t[t.FLAG=8]="FLAG",t[t.SUPER_MARIO_BODY=9]="SUPER_MARIO_BODY",t[t.SUPER_MARIO_HEAD=10]="SUPER_MARIO_HEAD"}(o.BoxTag||(o.BoxTag={})),cc._RF.pop()},{}],Brick:[function(t,e,o){"use strict";cc._RF.push(e,"89609RMTZJHBaghCE2FuwEP","Brick");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var r,c=arguments.length,i=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(i=(c<3?r(i):c>3?r(e,o,i):r(e,o))||i);return c>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,a=i.ccclass,p=i.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.moveDistance=5,e}return r(e,t),e.prototype.move=function(){cc.tween(this.node).by(.1,{y:this.moveDistance}).by(.1,{y:-this.moveDistance}).start()},c([p],e.prototype,"moveDistance",void 0),c([a],e)}(cc.Component);o.default=s,cc._RF.pop()},{}],Buff:[function(t,e,o){"use strict";cc._RF.push(e,"f8186ZA2ppPZrFiSLtupyZK","Buff");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var r,c=arguments.length,i=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(i=(c<3?r(i):c>3?r(e,o,i):r(e,o))||i);return c>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,a=i.ccclass,p=i.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.score=100,e}return r(e,t),c([p],e.prototype,"score",void 0),c([a],e)}(cc.Component);o.default=s,cc._RF.pop()},{}],CameraController:[function(t,e,o){"use strict";cc._RF.push(e,"f7304m1D4RLO4MFjdHETLSi","CameraController");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var r,c=arguments.length,i=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(i=(c<3?r(i):c>3?r(e,o,i):r(e,o))||i);return c>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=t("../Game"),a=cc._decorator,p=a.ccclass,s=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.cameraNode=null,e.game=null,e}return r(e,t),e.prototype.update=function(){var t=this.game.mario.node.convertToWorldSpaceAR(cc.v2(0,0)),e=this.cameraNode.convertToWorldSpaceAR(cc.v2(0,0));t.x>e.x&&(this.cameraNode.x+=t.x-e.x);var o=e.x-cc.winSize.width/2,n=this.game.mario.node.parent.convertToNodeSpaceAR(cc.v2(o,0)).x,r=this.game.mario.node.width/2;t.x-r<=o&&(this.game.mario.node.x=n+r)},c([s(cc.Node)],e.prototype,"cameraNode",void 0),c([s(i.default)],e.prototype,"game",void 0),c([p],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../Game":"Game"}],Coin:[function(t,e,o){"use strict";cc._RF.push(e,"24c341aHPdAvr3A1GI3NML8","Coin");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var r,c=arguments.length,i=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(i=(c<3?r(i):c>3?r(e,o,i):r(e,o))||i);return c>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=t("./Buff"),a=cc._decorator,p=a.ccclass,s=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.onLoad=function(){var t=this;cc.tween(this.node).by(.1,{y:25}).delay(.5).call(function(){t.node.destroy(),cc.systemEvent.emit("addScore",t.score)}).start()},c([p],e)}(i.default));o.default=s,cc._RF.pop()},{"./Buff":"Buff"}],EnemyController:[function(t,e,o){"use strict";cc._RF.push(e,"0dd1cRXytRBZJmNBfn+Afn4","EnemyController");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var r,c=arguments.length,i=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(i=(c<3?r(i):c>3?r(e,o,i):r(e,o))||i);return c>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=t("../character/Enemy"),a=t("../Game"),p=cc._decorator,s=p.ccclass,u=p.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.game=null,e.enemiesNode=null,e.activeDistanceScale=1,e.activeDistance=0,e}return r(e,t),e.prototype.onLoad=function(){this.activeDistance=cc.winSize.width*this.activeDistanceScale},e.prototype.update=function(){var t=this;this.enemiesNode.children.forEach(function(e){var o=e.convertToNodeSpaceAR(cc.v2(0,0)).x,n=t.game.mario.node.convertToNodeSpaceAR(cc.v2(0,0)).x*t.game.mario.node.scaleX;Math.abs(n-o)<=t.activeDistance&&e.getComponent(i.default).move()})},c([u(a.default)],e.prototype,"game",void 0),c([u(cc.Node)],e.prototype,"enemiesNode",void 0),c([u],e.prototype,"activeDistanceScale",void 0),c([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{"../Game":"Game","../character/Enemy":"Enemy"}],Enemy:[function(t,e,o){"use strict";cc._RF.push(e,"8d5fcCpP+RAl7lfYQppXRT0","Enemy");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var r,c=arguments.length,i=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(i=(c<3?r(i):c>3?r(e,o,i):r(e,o))||i);return c>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=t("../tag/BoxTag"),a=cc._decorator,p=a.ccclass,s=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.moveSpeed=0,e.score=100,e.direction=-1,e}return r(e,t),e.prototype.onLoad=function(){this.rig=this.node.getComponent(cc.RigidBody)},e.prototype.onCollisionEnter=function(t){switch(t.tag){case i.BoxTag.WALL:this.direction*=-1;break;case i.BoxTag.MARIO_FOOT:this.node.destroy(),cc.systemEvent.emit("addScore",this.score)}},e.prototype.move=function(){var t=this.rig.linearVelocity;t.x=this.moveSpeed*this.direction,this.rig.linearVelocity=t},c([s],e.prototype,"moveSpeed",void 0),c([s],e.prototype,"score",void 0),c([p],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../tag/BoxTag":"BoxTag"}],Game:[function(t,e,o){"use strict";cc._RF.push(e,"9f24f9f9fZIDrvBWrz4rE8w","Game");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var r,c=arguments.length,i=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(i=(c<3?r(i):c>3?r(e,o,i):r(e,o))||i);return c>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=t("./character/Mario"),a=t("./tag/BoxTag"),p=cc._decorator,s=p.ccclass,u=p.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mario=null,e.superMarioPrefab=null,e.marioNodePool=null,e.time=0,e.score=0,e}return r(e,t),e.prototype.onLoad=function(){var t=this;this.collisionManager=cc.director.getCollisionManager(),this.physicsManager=cc.director.getPhysicsManager(),this.collisionManager.enabled=!0,this.physicsManager.enabled=!0,this.marioNodePool=new cc.NodePool;var e=cc.instantiate(this.superMarioPrefab);this.marioNodePool.put(e),cc.systemEvent.on("changeMario",function(){cc.systemEvent.emit("unbindBtn");var e=t.marioNodePool.get(),o=e.getComponent(i.default);e.setParent(t.mario.node.parent),e.setPosition(t.mario.node.position),o.direction=t.mario.direction,o.isJumpReady=t.mario.isJumpReady,o.isJumping=t.mario.isJumping,t.marioNodePool.put(t.mario.node),t.mario=o,cc.systemEvent.emit("bindBtn",o),o.getComponents(cc.BoxCollider).forEach(function(t){t.tag==a.BoxTag.MARIO_BODY&&(t.enabled=!1)}),t.scheduleOnce(function(){o.getComponents(cc.BoxCollider).forEach(function(t){t.tag==a.BoxTag.MARIO_BODY&&(t.enabled=!0)})},2),cc.tween(e).to(.5,{opacity:0}).to(.5,{opacity:255}).to(.5,{opacity:0}).to(.5,{opacity:255}).start()}),cc.systemEvent.on("over",function(e){t.collisionManager.enabled=!1,t.physicsManager.enabled=!1,t.scheduleOnce(function(){e&&localStorage.setItem("score",t.score.toString()),cc.director.loadScene("main")},3)})},e.prototype.start=function(){cc.director.pause()},e.prototype.onDestroy=function(){cc.director.resume(),cc.systemEvent.off("changeMario"),cc.systemEvent.off("over")},c([u(i.default)],e.prototype,"mario",void 0),c([u(cc.Prefab)],e.prototype,"superMarioPrefab",void 0),c([u],e.prototype,"time",void 0),c([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{"./character/Mario":"Mario","./tag/BoxTag":"BoxTag"}],InputController:[function(t,e,o){"use strict";cc._RF.push(e,"cbae59K5vdFE4490GjkODh7","InputController");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var r,c=arguments.length,i=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(i=(c<3?r(i):c>3?r(e,o,i):r(e,o))||i);return c>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=t("../Game"),a=cc._decorator,p=a.ccclass,s=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.game=null,e.leftBtn=null,e.rightBtn=null,e.upBtn=null,e}return r(e,t),e.prototype.onLoad=function(){cc.systemEvent.on("unbindBtn",this.unbindBtn,this),cc.systemEvent.on("bindBtn",this.bindBtn,this),this.bindKey(),this.bindBtn(this.game.mario)},e.prototype.onDestroy=function(){this.unbindKey(),this.unbindBtn(),cc.systemEvent.off("unbindBtn"),cc.systemEvent.off("rebind")},e.prototype.bindKey=function(){cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.keyDown,this),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP,this.keyUp,this)},e.prototype.unbindKey=function(){cc.systemEvent.off(cc.SystemEvent.EventType.KEY_DOWN),cc.systemEvent.off(cc.SystemEvent.EventType.KEY_UP)},e.prototype.bindBtn=function(t){var e=cc.Node.EventType.TOUCH_START,o=cc.Node.EventType.TOUCH_END,n=cc.Node.EventType.TOUCH_CANCEL;try{this.leftBtn.on(e,t.onMoveLeftStart,t),this.leftBtn.on(o,t.onMoveEnd,t),this.leftBtn.on(n,t.onMoveEnd,t),this.rightBtn.on(e,t.onMoveRightStart,t),this.rightBtn.on(o,t.onMoveEnd,t),this.rightBtn.on(n,t.onMoveEnd,t),this.upBtn.on(e,t.onJumpStart,t),this.upBtn.on(o,t.onJumpEnd,t),this.upBtn.on(n,t.onJumpEnd,t)}catch(r){console.log(r)}},e.prototype.unbindBtn=function(){var t=cc.Node.EventType.TOUCH_START,e=cc.Node.EventType.TOUCH_END,o=cc.Node.EventType.TOUCH_CANCEL;this.leftBtn.off(t),this.leftBtn.off(e),this.leftBtn.off(o),this.rightBtn.off(t),this.rightBtn.off(e),this.rightBtn.off(o),this.upBtn.off(t),this.upBtn.off(e),this.upBtn.off(o)},e.prototype.keyDown=function(t){switch(t.keyCode){case cc.macro.KEY.a:this.game.mario.onMoveLeftStart();break;case cc.macro.KEY.d:this.game.mario.onMoveRightStart();break;case cc.macro.KEY.w:this.game.mario.onJumpStart()}},e.prototype.keyUp=function(t){switch(t.keyCode){case cc.macro.KEY.a:case cc.macro.KEY.d:this.game.mario.onMoveEnd();break;case cc.macro.KEY.w:this.game.mario.onJumpEnd()}},c([s(i.default)],e.prototype,"game",void 0),c([s(cc.Node)],e.prototype,"leftBtn",void 0),c([s(cc.Node)],e.prototype,"rightBtn",void 0),c([s(cc.Node)],e.prototype,"upBtn",void 0),c([p],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../Game":"Game"}],MagicMushroom:[function(t,e,o){"use strict";cc._RF.push(e,"99c2cNDKM5MWKG3T7TxCryw","MagicMushroom");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var r,c=arguments.length,i=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(i=(c<3?r(i):c>3?r(e,o,i):r(e,o))||i);return c>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=t("../../tag/BoxTag"),a=t("./Buff"),p=cc._decorator,s=p.ccclass,u=p.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.moveSpeed=50,e.rig=null,e.direction=1,e}return r(e,t),e.prototype.onLoad=function(){var t=this;this.rig=this.getComponent(cc.RigidBody),cc.tween(this.node).by(1,{y:20}).call(function(){t.rig.type=cc.RigidBodyType.Dynamic}).start()},e.prototype.update=function(){var t=this.getComponent(cc.RigidBody),e=t.linearVelocity;e.x=this.moveSpeed*this.direction,t.linearVelocity=e},e.prototype.onCollisionEnter=function(t){switch(t.tag){case i.BoxTag.WALL:this.direction*=-1;break;case i.BoxTag.MARIO_BODY:this.node.destroy(),cc.systemEvent.emit("addScore",this.score)}},c([u],e.prototype,"moveSpeed",void 0),c([s],e)}(a.default);o.default=l,cc._RF.pop()},{"../../tag/BoxTag":"BoxTag","./Buff":"Buff"}],MarioStateTag:[function(t,e,o){"use strict";cc._RF.push(e,"6193ai02wtOZ7yT0q65mV5E","MarioStateTag"),Object.defineProperty(o,"__esModule",{value:!0}),o.MarioStateTag=void 0,function(t){t.IDLE="idle",t.JUMP="jump",t.RUN="run",t.SLIDE="slide",t.DEATH="death"}(o.MarioStateTag||(o.MarioStateTag={})),cc._RF.pop()},{}],Mario:[function(t,e,o){"use strict";cc._RF.push(e,"95d51qdfstP6LxLrV+9FqEP","Mario");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var r,c=arguments.length,i=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(i=(c<3?r(i):c>3?r(e,o,i):r(e,o))||i);return c>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=t("../tag/BoxTag"),a=t("../tag/MarioStateTag"),p=cc._decorator,s=p.ccclass,u=p.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.rig=null,e.moveForce=0,e.maxMoveVelocity=0,e.jumpForce=0,e.anim=null,e.direction=0,e.isJumpReady=!0,e.isJumping=!1,e.isDead=!1,e}return r(e,t),e.prototype.start=function(){this.anim=this.getComponent(cc.Animation),this.anim.play(a.MarioStateTag.IDLE)},e.prototype.jump=function(){if(!this.isJumping&&this.isJumpReady){var t=this.rig.linearVelocity;t.y=0,this.rig.linearVelocity=t,this.rig.applyForceToCenter(cc.v2(0,this.jumpForce),!0),this.isJumpReady=!1,cc.systemEvent.emit("jump")}},e.prototype.onJumpStart=function(){this.jump()},e.prototype.onJumpEnd=function(){this.isJumping&&this.rig.applyForceToCenter(cc.v2(0,-this.jumpForce/3),!0),this.isJumpReady=!0},e.prototype.onMoveLeftStart=function(){this.direction=-1},e.prototype.onMoveRightStart=function(){this.direction=1},e.prototype.onMoveEnd=function(){var t=this.rig.linearVelocity;this.rig.applyForceToCenter(cc.v2(8*-t.x,0),!0),this.rig.linearVelocity=t,this.direction=0},e.prototype.update=function(t){this.isDead||(this.node.y<-cc.winSize.height?this.lose():0!=this.direction&&this.move(t))},e.prototype.move=function(t){Math.abs(this.rig.linearVelocity.x)>=this.maxMoveVelocity||(this.isJumping?this.rig.applyForceToCenter(cc.v2(this.direction*this.moveForce*t/3,0),!0):this.rig.applyForceToCenter(cc.v2(this.direction*this.moveForce*t,0),!0))},e.prototype.win=function(){cc.systemEvent.emit("win"),cc.systemEvent.emit("over",!0)},e.prototype.lose=function(){cc.systemEvent.emit("lose"),cc.systemEvent.emit("over",!1),this.isDead=!0,cc.tween(this.node).by(.5,{y:50}).by(1,{y:-cc.winSize.height/2}).start()},e.prototype.onCollisionEnter=function(t,e){t.tag==i.BoxTag.FLAG?this.win():e.tag==i.BoxTag.MARIO_BODY&&t.tag==i.BoxTag.MAGIC_MUSHROOM?cc.systemEvent.emit("changeMario"):e.tag==i.BoxTag.MARIO_FOOT&&t.tag==i.BoxTag.ENEMY&&(this.isJumping=!1,this.isJumpReady=!0,this.jumpForce/=2,this.jump(),this.isJumping=!0,this.isJumpReady=!0,this.jumpForce*=2)},e.prototype.onCollisionStay=function(t,e){switch(e.tag){case i.BoxTag.MARIO_FOOT:t.tag==i.BoxTag.GROUND&&(this.isJumping=!1);break;case i.BoxTag.MARIO_BODY:t.tag==i.BoxTag.ENEMY&&this.lose();break;case i.BoxTag.SUPER_MARIO_BODY:if(t.tag==i.BoxTag.ENEMY){cc.systemEvent.emit("changeMario");break}}},e.prototype.onCollisionExit=function(t,e){e.tag==i.BoxTag.MARIO_FOOT&&t.tag==i.BoxTag.GROUND&&(this.isJumping=!0)},c([u(cc.RigidBody)],e.prototype,"rig",void 0),c([u],e.prototype,"moveForce",void 0),c([u],e.prototype,"maxMoveVelocity",void 0),c([u],e.prototype,"jumpForce",void 0),c([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{"../tag/BoxTag":"BoxTag","../tag/MarioStateTag":"MarioStateTag"}],MysteryBrick:[function(t,e,o){"use strict";cc._RF.push(e,"8b8cf/HPspMh7U+ficNYEF+","MysteryBrick");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var r,c=arguments.length,i=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(i=(c<3?r(i):c>3?r(e,o,i):r(e,o))||i);return c>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=t("../tag/BoxTag"),a=t("./Brick"),p=t("./buff/Buff"),s=cc._decorator,u=s.ccclass,l=s.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.emptySpriteFrame=null,e.sprite=null,e.hp=0,e}return r(e,t),e.prototype.onLoad=function(){this.hp=this.node.childrenCount-1,this.sprite=this.node.getChildByName("Sprite").getComponent(cc.Sprite)},e.prototype.onCollisionEnter=function(e){var o=this;e.tag!=i.BoxTag.MARIO_HEAD&&e.tag!=i.BoxTag.SUPER_MARIO_HEAD||this.hp>0&&(--this.hp,0==this.hp&&(this.sprite.spriteFrame=this.emptySpriteFrame),t.prototype.move.call(this),this.scheduleOnce(function(){var t=o.node.getComponentsInChildren(p.default);t[0]&&(t[0].node.active=!0)},.2))},c([l(cc.SpriteFrame)],e.prototype,"emptySpriteFrame",void 0),c([u],e)}(a.default);o.default=f,cc._RF.pop()},{"../tag/BoxTag":"BoxTag","./Brick":"Brick","./buff/Buff":"Buff"}],NormalBrick:[function(t,e,o){"use strict";cc._RF.push(e,"03a02yGu39NurQICa0bh/TH","NormalBrick");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var r,c=arguments.length,i=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(i=(c<3?r(i):c>3?r(e,o,i):r(e,o))||i);return c>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=t("../tag/BoxTag"),a=t("./Brick"),p=cc._decorator,s=p.ccclass,u=p.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.score=50,e}return r(e,t),e.prototype.onCollisionEnter=function(e){e.tag==i.BoxTag.MARIO_HEAD?t.prototype.move.call(this):e.tag==i.BoxTag.SUPER_MARIO_HEAD&&(cc.systemEvent.emit("addScore",this.score),this.node.destroy())},c([u],e.prototype,"score",void 0),c([s],e)}(a.default);o.default=l,cc._RF.pop()},{"../tag/BoxTag":"BoxTag","./Brick":"Brick"}],RankController:[function(t,e,o){"use strict";cc._RF.push(e,"23fa42mToJMVpBNJNT5FEoy","RankController");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var r,c=arguments.length,i=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(i=(c<3?r(i):c>3?r(e,o,i):r(e,o))||i);return c>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,a=i.ccclass,p=(i.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.onLoad=function(){if(cc.sys.platform==cc.sys.WECHAT_GAME){var t=wx.getOpenDataContext();t.postMessage({type:"reset"}),this.schedule(function(){var e={type:"submitScore",value:cc.sys.localStorage.getItem("score")};t.postMessage(e)},.5)}},e.prototype.loadMain=function(){cc.director.loadScene("main")},c([a],e)}(cc.Component));o.default=p,cc._RF.pop()},{}],UiController:[function(t,e,o){"use strict";cc._RF.push(e,"8b42674mpJFYqlvALtIBVi+","UiController");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var r,c=arguments.length,i=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(i=(c<3?r(i):c>3?r(e,o,i):r(e,o))||i);return c>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=t("../Game"),a=cc._decorator,p=a.ccclass,s=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.game=null,e.scoreLabel=null,e.timeLabel=null,e.gameOver=null,e.gameWin=null,e.startMenuNode=null,e.leftBtn=null,e.rightBtn=null,e.upBtn=null,e}return r(e,t),e.prototype.onLoad=function(){var t=this;cc.systemEvent.on("addScore",function(e){t.game.score+=e,t.scoreLabel.string="Score:"+t.game.score}),cc.systemEvent.on("win",function(){t.gameWin.active=!0,t.unschedule(t.timeCount),t.upBtn.active=!1,t.leftBtn.active=!1,t.rightBtn.active=!1}),cc.systemEvent.on("lose",function(){t.gameOver.active=!0,t.unschedule(t.timeCount),t.upBtn.active=!1,t.leftBtn.active=!1,t.rightBtn.active=!1}),this.timeLabel.string="Time:"+this.game.time,this.schedule(this.timeCount,1)},e.prototype.onDestroy=function(){cc.systemEvent.off("addScore"),cc.systemEvent.off("win"),cc.systemEvent.off("lose")},e.prototype.gameStart=function(){this.upBtn.active=!0,this.leftBtn.active=!0,this.rightBtn.active=!0,this.startMenuNode.active=!1,cc.director.resume()},e.prototype.loadRank=function(){cc.director.loadScene("rank")},e.prototype.timeCount=function(){this.game.time--,this.timeLabel.string="Time:"+this.game.time,0==this.game.time&&(this.game.mario.lose(),this.unschedule(this.timeCount))},c([s(i.default)],e.prototype,"game",void 0),c([s(cc.Label)],e.prototype,"scoreLabel",void 0),c([s(cc.Label)],e.prototype,"timeLabel",void 0),c([s(cc.Node)],e.prototype,"gameOver",void 0),c([s(cc.Node)],e.prototype,"gameWin",void 0),c([s(cc.Node)],e.prototype,"startMenuNode",void 0),c([s(cc.Node)],e.prototype,"leftBtn",void 0),c([s(cc.Node)],e.prototype,"rightBtn",void 0),c([s(cc.Node)],e.prototype,"upBtn",void 0),c([p],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../Game":"Game"}]},{},["Game","Brick","MysteryBrick","NormalBrick","Buff","Coin","MagicMushroom","Enemy","Mario","AminController","AudioController","CameraController","EnemyController","InputController","RankController","UiController","BoxTag","MarioStateTag"]);